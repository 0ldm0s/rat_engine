# 更新日志

所有重要项目的更改都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.1.1] - 2025-10-22

### 新增
- 📡 **全局SSE管理器**：全新的Server-Sent Events管理器，支持高效的连接管理
  - 基于DashMap的无锁并发设计
  - 支持连接注册、消息发送、广播、心跳等功能
  - 便捷的API接口，易于集成和使用

- 💬 **完整SSE聊天室示例**：展示全局SSE管理器的实际应用
  - 多房间支持（3个独立聊天房间）
  - 实时消息推送和用户通知
  - 响应式Web界面设计
  - 会话状态恢复（页面刷新后保持连接）
  - 用户进入/离开通知和在线成员列表

### 优化
- 🔧 **SSE架构重构**：简化连接管理，避免所有权问题
  - 移除复杂的SseResponse存储逻辑
  - 改为只存储轻量级的sender，提高性能
  - 在管理器内部实现所有发送方法

### 移除
- 🗑️ **废弃代码清理**：移除未使用的SSE基础设施
  - 删除SseAdapter（268行）
  - 删除SseConnectionPool（600行）
  - 简化项目结构，减少维护负担

### 修复
- 🐛 **EventSource兼容性问题**：修复浏览器EventSource API不支持自定义HTTP头部的问题
  - 改用URL参数传递连接UUID
  - 区分路径参数和查询参数的正确使用

- 🔄 **页面刷新状态恢复**：修复聊天室页面刷新后连接丢失的问题
  - 实现sessionStorage管理用户状态
  - 自动恢复连接和用户信息

### 文档
- 📖 **README更新**：
  - 添加SSE支持特性说明
  - 新增SSE聊天室示例引导
  - 更新项目结构和示例运行命令

- 📚 **中文文档优化**：提供完整的中文技术文档和示例说明

## [1.1.0] - 2025-10-20

### 新增
- 🔐 **OpenSSL静态编译支持**：完全自包含的Windows二进制文件
- 📋 **Windows构建指南**：详细的跨平台编译文档
- 🎯 **gRPC服务发现**：支持服务注册与发现机制
- 📡 **流式响应增强**：改进SSE和chunked传输性能

### 优化
- ⚡ **性能优化**：减少内存分配，提高并发处理能力
- 🔧 **配置系统重构**：更灵活的配置管理机制

## [1.0.0] - 2025-09-15

### 新增
- 🚀 **初始发布**：RAT Engine核心功能
- 🛣️ **路由系统**：HTTP方法和路径匹配
- 📊 **监控和日志**：结构化日志和性能监控
- 🧠 **硬件自适应**：自动CPU核心检测和线程优化
- 🐍 **Python绑定**：通过PyO3提供Python接口

---

## 版本说明

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

更多信息请查看 [项目文档](https://github.com/0ldm0s/rat_engine)。